/*! @playfulsparkle/sprintf-js v1.0.5 | Copyright (c) 2025-present, Zsolt Oroszl√°ny <hello@playfulsparkle.com> | BSD-3-Clause */
(()=>{let w={notType:/[^T]/,notPrimitive:/[^v]/,number:/[diefg]/,numericArg:/[bcdiefguxX]/,jsonObject:/[j]/,plainText:/^[^\x25]+/,doublePercent:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,namedKey:/^([a-z_][a-z_\d]*)/i,dotAccess:/^\.([a-z_][a-z_\d]*)/i,bracketAccess:/^\[(\d+)\]/,numeralPrefix:/^[+-]/,allowedNamedKeyChars:/^[a-zA-Z_][a-zA-Z0-9_]*$/,allowedNumericIndex:/^\d+$/},n={allowComputedValue:!1,throwErrorOnUnmatched:!1,preserveUnmatchedPlaceholder:!1},s=(()=>{let t={__proto__:null};return{get:function(e){return t[e]},set:function(e,r){return t[e]=r,this},has:function(e){return e in t},delete:function(e){delete t[e]},clear:function(){t={__proto__:null}}}})();function t(e){var r=this&&this._sprintfOptions?this._sprintfOptions:n,e=i(e);return a(e.parseTree,Array.prototype.slice.call(arguments,1),e.namedUsed,r)}function o(e,r){let t=this&&this._sprintfOptions?this._sprintfOptions:n;return function(e){return a(i(e).parseTree,Array.prototype.slice.call(arguments,1),i(e).namedUsed,t)}.apply(null,[e].concat(r||[]))}function e(e){var r=Object.assign({},n),e=(e&&("boolean"==typeof e.allowComputedValue&&(r.allowComputedValue=e.allowComputedValue),"boolean"==typeof e.throwErrorOnUnmatched&&(r.throwErrorOnUnmatched=e.throwErrorOnUnmatched),"boolean"==typeof e.preserveUnmatchedPlaceholder)&&(r.preserveUnmatchedPlaceholder=e.preserveUnmatchedPlaceholder),{_sprintfOptions:r,sprintf:t,vsprintf:o,allowComputedValue:function(e){return this._sprintfOptions.allowComputedValue=!!e,this},throwErrorOnUnmatched:function(e){return this._sprintfOptions.throwErrorOnUnmatched=!!e,this},preserveUnmatchedPlaceholder:function(e){return this._sprintfOptions.preserveUnmatchedPlaceholder=!!e,this}});return e}function a(r,o,e,a){if(void 0===r)return"";let i=0;var t=r.length,s={__proto__:null};let l="";var n=[];if(e){for(let e=0;e<o.length;e++){var p=o[e];null!==p&&"object"==typeof p&&"[object Array]"!==Object.prototype.toString.call(p)?function(r){if(arguments.length<1)throw new TypeError("objectAssign expects at least one argument");if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(let e=1;e<arguments.length;e++){var t=arguments[e];if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}}(s,p):n.push(p)}o=n}for(let e=0;e<t;e++){var c,u=r[e];if("string"==typeof u)l+=u;else{let r;if(u.keys){r=s;for(let e=0;e<u.keys.length;e++){var d=u.keys[e];if(null==r)throw new Error(`[sprintf] Cannot access property "${d}" of undefined value`);if(r=r[d],a.throwErrorOnUnmatched&&void 0===r)throw new SyntaxError("[sprintf] Missing argument "+d);a.preserveUnmatchedPlaceholder&&void 0===r&&(r=u.placeholder)}}else{if(u.paramNo){var f=u.paramNo-1;if(a.throwErrorOnUnmatched&&f>=o.length)throw new SyntaxError("[sprintf] Missing argument "+u.paramNo);r=o[f]}else{if(a.throwErrorOnUnmatched&&i>=o.length)throw new SyntaxError("[sprintf] Too few arguments");r=o[i++]}a.preserveUnmatchedPlaceholder&&void 0===r&&(r=u.placeholder)}if(a.allowComputedValue&&w.notType.test(u.type)&&w.notPrimitive.test(u.type)&&"function"==typeof r)try{r=r()}catch(e){throw new Error("[sprintf] Failed to execute function argument")}if(w.numericArg.test(u.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError("[sprintf] expecting number but found "+typeof r);let e,t="",n;switch(w.number.test(u.type)&&(e=0<=r),u.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=Math.trunc(Number(r));break;case"j":r=JSON.stringify(r,null,u.width?parseInt(u.width):0);break;case"e":r=u.precision?parseFloat(r).toExponential(u.precision):parseFloat(r).toExponential();break;case"f":r=u.precision?parseFloat(r).toFixed(u.precision):parseFloat(r);break;case"g":r=u.precision?String(r.toPrecision(u.precision)):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=u.precision?r.substring(0,u.precision):r;break;case"t":r=String(!!r),r=u.precision?r.substring(0,u.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=u.precision?r.substring(0,u.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=String(r.valueOf()),r=u.precision?r.substring(0,u.precision):r;break;case"x":case"X":if(n=(parseInt(r,10)>>>0).toString(16),r&&r.high)n=(parseInt(r.high,10)>>>0).toString(16)+n.padStart(8,"0");else if(2147483647<Number(r)||Number(r)<-2147483648)try{var h=BigInt(r)>>BigInt(32),m=(h&BigInt(4294967295)).toString(16);n=h!==BigInt(0)?m+n.padStart(8,"0"):n}catch(e){}r="X"===u.type?n.toUpperCase():n;break;default:throw new Error("[sprintf] Unknown type: "+u.type)}w.jsonObject.test(u.type)?l+=r:(!w.number.test(u.type)||e&&!u.numeralPrefix?t="":(t=e?"+":"-",r=String(r).replace(w.numeralPrefix,"")),f=u.padChar?"0"===u.padChar?"0":u.padChar.charAt(1):" ",c=u.width-(t+r).length,c=u.width&&0<c?((e,r)=>{if(r<0)throw new RangeError("Repeat count must be non-negative");if(0===r)return"";let t="";for(;r;)1&r&&(t+=e),r>>=1,e+=e;return t})(f,c):"",l+=u.align?t+r+c:"0"===f?t+c+r:c+t+r)}}return l}function i(e){if(s.has(e))return s.get(e);let r=e;var n=[];let o=!1,a=!1;for(;r;){let t;if(null!==(t=w.plainText.exec(r)))n.push(t[0]);else if(null!==(t=w.doublePercent.exec(r)))n.push("%");else{if(null===(t=w.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o=!0;var i=[];let e=t[2],r;if(null===(r=w.namedKey.exec(e)))throw new SyntaxError("[sprintf] failed to parse named argument key");if(!w.allowedNamedKeyChars.test(r[1]))throw new SyntaxError("[sprintf] Invalid named argument key segment: must start with a letter or underscore, followed by letters, numbers, or underscores");for(i.push(r[1]);""!==(e=e.substring(r[0].length));){if(null!==(r=w.dotAccess.exec(e))){if(!w.allowedNamedKeyChars.test(r[1]))throw new SyntaxError("[sprintf] Invalid named argument key segment after dot: must start with a letter or underscore, followed by letters, numbers, or underscores")}else{if(null===(r=w.bracketAccess.exec(e)))throw new SyntaxError("[sprintf] failed to parse named argument key");if(!w.allowedNumericIndex.test(r[1]))throw new SyntaxError("[sprintf] Invalid array index in named argument key: must be a non-negative integer")}i.push(r[1])}t[2]=i}else a=(t[1],!0);n.push({placeholder:t[0],paramNo:t[1],keys:t[2],numeralPrefix:t[3],padChar:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}var t={parseTree:n,namedUsed:o,positionalUsed:a};return s.set(e,t),t}o.config=t.config=e;let r={sprintf:t,vsprintf:o,config:e};"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=o,"function"==typeof define)&&define.amd&&define(()=>r),"undefined"!=typeof exports&&(exports.sprintf=t,exports.vsprintf=o),"undefined"!=typeof module&&module.exports&&(module.exports=r)})();
//# sourceMappingURL=sprintf.min.js.map
