/*! @playfulsparkle/sprintf-js v1.1.2 | Copyright (c) 2025-present, Zsolt Oroszl√°ny <hello@playfulsparkle.com> | BSD-3-Clause */
(()=>{let S={notType:/[^T]/,notPrimitive:/[^v]/,number:/[dieEfg]/,numericArg:/[bcdieEfguxX]/,jsonObject:/[j]/,plainText:/^[^\x25]+/,doublePercent:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d*))?([bcdieEfgjostTuvxX])/,namedKey:/^([a-z_][a-z_\d]*)/i,dotAccess:/^\.([a-z_][a-z_\d]*)/i,bracketAccess:/^\[(\d+)\]/,numeralPrefix:/^[+-]/,allowedNamedKeyChars:/^[a-zA-Z_][a-zA-Z0-9_]*$/,allowedNumericIndex:/^\d+$/},o={allowComputedValue:!1,throwErrorOnUnmatched:!1,preserveUnmatchedPlaceholder:!1},s=(()=>{let r={__proto__:null};return{get:function(e){return r[e]},set:function(e,t){return r[e]=t,this},has:function(e){return e in r},delete:function(e){delete r[e]},clear:function(){r={__proto__:null}}}})();function r(e){var t=this&&this._sprintfOptions?this._sprintfOptions:o,r=this&&this._sprintfStats?this._sprintfStats:{__proto__:null},e=i(e);return a(e.parseTree,Array.prototype.slice.call(arguments,1),e.namedUsed,t,r)}function n(e,t){let r=this&&this._sprintfOptions?this._sprintfOptions:o,n=this&&this._sprintfStats?this._sprintfStats:{__proto__:null};return function(e){return a(i(e).parseTree,Array.prototype.slice.call(arguments,1),i(e).namedUsed,r,n)}.apply(null,[e].concat(t||[]))}function e(e){var t=E({__proto__:null},o),e=(e&&("boolean"==typeof e.allowComputedValue&&(t.allowComputedValue=e.allowComputedValue),"boolean"==typeof e.throwErrorOnUnmatched&&(t.throwErrorOnUnmatched=e.throwErrorOnUnmatched),"boolean"==typeof e.preserveUnmatchedPlaceholder)&&(t.preserveUnmatchedPlaceholder=e.preserveUnmatchedPlaceholder),{_sprintfOptions:t,_sprintfStats:{totalPlaceholders:0,totalNamedPlaceholder:0,totalPositionalPlaceholder:0,totalSequentialPositionalPlaceholder:0},sprintf:r,vsprintf:n,getStats:function(){return this._sprintfStats},allowComputedValue:function(e){return this._sprintfOptions.allowComputedValue=!!e,this},throwErrorOnUnmatched:function(e){return this._sprintfOptions.throwErrorOnUnmatched=!!e,this},preserveUnmatchedPlaceholder:function(e){return this._sprintfOptions.preserveUnmatchedPlaceholder=!!e,this}});return e}function a(t,o,e,a,i){if(void 0===t)return"";let s=0;var r=t.length,l={__proto__:null};let p="";var n=[];if(e){for(let e=0;e<o.length;e++){var c=o[e];null!==c&&"object"==typeof c&&"[object Array]"!==Object.prototype.toString.call(c)?E(l,c):n.push(c)}o=n}for(let e=0;e<r;e++){var d=t[e];if("string"==typeof d)p+=d;else{let r;if(i.totalPlaceholders++,d.keys){r=l;for(let e=0;e<d.keys.length;e++){var u=d.keys[e];if(null==r)throw new Error(`[sprintf] Cannot access property "${u}" of undefined value`);if(r=r[u],a.throwErrorOnUnmatched&&void 0===r)throw new SyntaxError("[sprintf] Missing argument "+u);a.preserveUnmatchedPlaceholder&&void 0===r&&(r=d.placeholder),i.totalNamedPlaceholder++}}else if(d.paramNo){var f=d.paramNo-1;if(a.throwErrorOnUnmatched&&f>=o.length)throw new SyntaxError("[sprintf] Missing argument "+d.paramNo);r=o[f],a.preserveUnmatchedPlaceholder&&void 0===r&&(r=d.placeholder),i.totalPositionalPlaceholder++}else{if(a.throwErrorOnUnmatched&&s>=o.length)throw new SyntaxError("[sprintf] Too few arguments");r=o[s++],a.preserveUnmatchedPlaceholder&&void 0===r&&(r=d.placeholder),i.totalSequentialPositionalPlaceholder++}var h,m,g,f=S.notType.test(d.type)&&S.notPrimitive.test(d.type)&&("function"==typeof r||"[object Function]"===Object.prototype.toString.call(r));if(!a.allowComputedValue&&f)throw new Error("[sprintf] Function arguments are not allowed by default. Enable with .config().allowComputedValue(true)");if(a.allowComputedValue&&f)try{r=r.apply(this)}catch(e){throw new Error("[sprintf] Failed to execute function argument")}if(S.numericArg.test(d.type)&&"number"!=typeof r&&"bigint"!=typeof r&&isNaN(r))throw new TypeError("[sprintf] expecting number or BigInt but found "+typeof r);let e,t="",n;switch(S.number.test(d.type)&&(e=0<=r),d.type){case"b":n=parseInt(r,10),n=isNaN(n)?0:n,n>>>=0,r=n.toString(2);break;case"c":n=parseInt(r,10),n=isNaN(n)?0:n,n&=255,r=String.fromCharCode(n);break;case"d":case"i":r="bigint"==typeof r?r.toString():Math.trunc(Number(r));break;case"j":r=JSON.stringify(r,null,d.width?parseInt(d.width):0);break;case"e":case"E":try{let e=6;void 0!==d.precision&&(e=parseInt(d.precision,10)||0);var w=parseFloat(r).toExponential(e).split("e");let t=w[0];var y=parseInt(w[1],10),b=(0===e&&(t=t.split(".")[0]),0<=y?"+":"-"),v=Math.abs(y).toString().padStart(2,"0");r=t+"e"+b+v}catch(e){r=0===d.precision?"0e+00":"0.000000e+00"}"E"===d.type&&(r=r.toUpperCase());break;case"f":r=void 0!==d.precision?(h=""===d.precision?0:parseInt(d.precision,10),parseFloat(r).toFixed(h)):parseFloat(r);break;case"g":r=d.precision?String(r.toPrecision(d.precision)):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=d.precision?r.substring(0,d.precision):r;break;case"t":r=String(!!r),r=d.precision?r.substring(0,d.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=d.precision?r.substring(0,d.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=String(r.valueOf()),r=d.precision?r.substring(0,d.precision):r;break;case"x":case"X":if(n=(parseInt(r,10)>>>0).toString(16),r&&r.high)n=(parseInt(r.high,10)>>>0).toString(16)+n.padStart(8,"0");else if(2147483647<Number(r)||Number(r)<-2147483648)try{var _=BigInt(r)>>BigInt(32),x=(_&BigInt(4294967295)).toString(16);n=_!==BigInt(0)?x+n.padStart(8,"0"):n}catch(e){}r="X"===d.type?n.toUpperCase():n;break;default:throw new Error("[sprintf] Unknown type: "+d.type)}S.jsonObject.test(d.type)?p+=r:(!S.number.test(d.type)||e&&!d.numeralPrefix?t="":(t=e?"+":"-",r=String(r).replace(S.numeralPrefix,"")),m=d.padChar?"0"===d.padChar?"0":d.padChar.charAt(1):" ",g=d.width-(t+r).length,g=d.width&&0<g?((e,t)=>{if(t<0)throw new RangeError("Repeat count must be non-negative");if(0===t)return"";let r="";for(;t;)1&t&&(r+=e),t>>=1,e+=e;return r})(m,g):"",p+=d.align?t+r+g:"0"===m?t+g+r:g+t+r)}}return p}function i(e){if(s.has(e))return s.get(e);let t=e;var n=[];let o=!1,a=!1;for(;t;){let r;if(null!==(r=S.plainText.exec(t)))n.push(r[0]);else if(null!==(r=S.doublePercent.exec(t)))n.push("%");else{if(null===(r=S.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){o=!0;var i=[];let e=r[2],t;if(null===(t=S.namedKey.exec(e)))throw new SyntaxError("[sprintf] failed to parse named argument key");if(!S.allowedNamedKeyChars.test(t[1]))throw new SyntaxError("[sprintf] Invalid named argument key segment: must start with a letter or underscore, followed by letters, numbers, or underscores");for(i.push(t[1]);""!==(e=e.substring(t[0].length));){if(null!==(t=S.dotAccess.exec(e))){if(!S.allowedNamedKeyChars.test(t[1]))throw new SyntaxError("[sprintf] Invalid named argument key segment after dot: must start with a letter or underscore, followed by letters, numbers, or underscores")}else{if(null===(t=S.bracketAccess.exec(e)))throw new SyntaxError("[sprintf] failed to parse named argument key");if(!S.allowedNumericIndex.test(t[1]))throw new SyntaxError("[sprintf] Invalid array index in named argument key: must be a non-negative integer")}i.push(t[1])}r[2]=i}else a=(r[1],!0);n.push({placeholder:r[0],paramNo:r[1],keys:r[2],numeralPrefix:r[3],padChar:r[4],align:r[5],width:r[6],precision:r[7],type:r[8]})}t=t.substring(r[0].length)}var r={parseTree:n,namedUsed:o,positionalUsed:a};return s.set(e,r),r}function E(t){if(arguments.length<1)throw new TypeError("objectAssign expects at least one argument");if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(let e=1;e<arguments.length;e++){var r=arguments[e];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}n.config=r.config=e;let t={sprintf:r,vsprintf:n,config:e};"undefined"!=typeof window&&(window.sprintf=r,window.vsprintf=n,"function"==typeof define)&&define.amd&&define(()=>t),"undefined"!=typeof exports&&(exports.sprintf=r,exports.vsprintf=n),"undefined"!=typeof module&&module.exports&&(module.exports=t)})();
//# sourceMappingURL=sprintf.min.js.map
