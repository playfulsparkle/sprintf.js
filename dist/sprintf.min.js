/*! @playfulsparkle/sprintf-js v0.0.3 | Copyright (c) 2025-present, Zsolt Oroszl√°ny <hello@playfulsparkle.com> | BSD-3-Clause */
(()=>{let f={notType:/[^T]/,notPrimitive:/[^v]/,number:/[diefg]/,numericArg:/[bcdiefguxX]/,jsonObject:/[j]/,plainText:/^[^\x25]+/,doublePercent:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,namedKey:/^([a-z_][a-z_\d]*)/i,dotAccess:/^\.([a-z_][a-z_\d]*)/i,bracketAccess:/^\[(\d+)\]/,numeralPrefix:/^[+-]/},u=new Map;function t(e){e=(e=>{if(u.has(e))return u.get(e);let r=e,n=[],i=!1,s=!1;for(;r;){let t;if(null!==(t=f.plainText.exec(r)))n.push(t[0]);else if(null!==(t=f.doublePercent.exec(r)))n.push("%");else{if(null===(t=f.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i=!0;var a=[];let e=t[2],r;if(null===(r=f.namedKey.exec(e)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(r[1]);""!==(e=e.substring(r[0].length));){if(null===(r=f.dotAccess.exec(e))&&null===(r=f.bracketAccess.exec(e)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(r[1])}t[2]=a}else s=(t[1],!0);n.push({placeholder:t[0],paramNo:t[1],keys:t[2],numeralPrefix:t[3],padChar:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}var t={parseTree:n,namedUsed:i,positionalUsed:s};return u.set(e,t),t})(e);{var a=e.parseTree,o=Array.from(arguments).slice(1);e=e.namedUsed;let n=0,r=a.length,i=Object.create(null),s="",t=[];if(e){for(let e=0;e<o.length;e++)null===o[e]||"object"!=typeof o[e]||Array.isArray(o[e])?t.push(o[e]):Object.assign(i,o[e]);o=t}for(let e=0;e<r;e++){var p,c,l=a[e];if("string"==typeof l)s+=l;else{let r;if(l.keys){r=i;for(let e=0;e<l.keys.length;e++){if(null==r)throw new Error(`[sprintf] Cannot access property "${l.keys[e]}" of undefined value`);r=r[l.keys[e]]}}else r=l.paramNo?o[l.paramNo-1]:o[n++];if(f.notType.test(l.type)&&f.notPrimitive.test(l.type)&&"function"==typeof r)try{r=r()}catch(e){throw new Error("[sprintf] Failed to execute function argument")}if(f.numericArg.test(l.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError("[sprintf] expecting number but found "+typeof r);let e,t="";switch(f.number.test(l.type)&&(e=0<=r),l.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,l.width?parseInt(l.width):0);break;case"e":r=l.precision?parseFloat(r).toExponential(l.precision):parseFloat(r).toExponential();break;case"f":r=l.precision?parseFloat(r).toFixed(l.precision):parseFloat(r);break;case"g":r=l.precision?String(Number(r.toPrecision(l.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=l.precision?r.substring(0,l.precision):r;break;case"t":r=String(!!r),r=l.precision?r.substring(0,l.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=l.precision?r.substring(0,l.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=String(r.valueOf()),r=l.precision?r.substring(0,l.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase();break;default:throw new Error("[sprintf] Unknown type: "+l.type)}f.jsonObject.test(l.type)?s+=r:(!f.number.test(l.type)||e&&!l.numeralPrefix||(t=e?"+":"-",r=String(r).replace(f.numeralPrefix,"")),p=l.padChar?"0"===l.padChar?"0":l.padChar.charAt(1):" ",c=l.width-(t+r).length,c=l.width&&0<c?p.repeat(c):"",s+=l.align?t+r+c:"0"===p?t+c+r:c+t+r)}}return s}}function e(e,r){return t.apply(null,[e].concat(r||[]))}let r={sprintf:t,vsprintf:e};"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=e,"function"==typeof define)&&define.amd&&define(()=>r),"undefined"!=typeof exports&&(exports.sprintf=t,exports.vsprintf=e),"undefined"!=typeof module&&module.exports&&(module.exports=r)})();
//# sourceMappingURL=sprintf.min.js.map
